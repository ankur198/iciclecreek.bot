# macros that will expand when used in a pattern
macros:
  $clear: (clear|forget|reset|delete)
  $is: (is|to|equals)
  $set: (set|change)
  $show: (show|what is)
  $name: (name|nom de plum)
  $departing: (departing|from|leaving|taking off)
  $destination: (arriving|destination|to|landing)
  $flight: (flight|trip|fly|travel|itinerary)

entities:
  # @colors entity
  - name: "@colors"
    patterns: [red, green, blue, yellow, purple, white, orange]

  # @drinkSize entity
  - name: "@drinkSize"
    patterns:
      # NOTE:if patterns are an array the first value is the canonical value
      - [s, small, short]
      - [m, medium, tall]
      - [l, large, tall]
      - [xl, extra large, venti]

  # @airportCode entity
  - name: "@airportCode"
    patterns:
      - [LAX, "los angeles"]
      - [DSM, "des moines"]
      - [OHR, "o'hare", "ohare"]
      - [MID, midway]
      - ORD
      - ...

  # @city entity
  - name: "@city"
    patterns:
      - [(los angeles)~, (city of angeles)~, LA, L.A.]
      - (des moines)~
      - (chicago)~
      - [(seattle)~, (emerald city)~]

  # @city2 entity, default fuzzy
  - name: "@city2"
    fuzzyMatch: true
    patterns:
      - [los angeles, city of angeles, (LA)~, (L.A.)~]
      - des moines
      - chicago
      - [seattle, emerald city]

  # @placeAndTime entity is one or more of (@airport | @city | @date)
  - name: "@placeAndTime"
    patterns:
      - "(@airportCode|@city|@datetimev2)+"

  #destination is slot reference + @placeAndTime
  - name: "@destination"
    patterns:
      - $destination @placeAndTime
      - $destination (@airportCode|@city)+ on @datetimev2

  - name: "@clear_destination"
    patterns:
      - $clear @destination

  #departure is slot reference + @placeAndTime
  - name: "@departure"
    patterns:
      - $departing @placeAndTime

  - name: "@clear_departure"
    patterns:
      - $clear $departing
      - $clear (@airportCode|@city|@datetimeV2)+

  #trip

  ## Trip is flight reference plus destination/departure/placeAndTime information
  - name: "@trip"
    patterns:
      - $flight (@departure|@destination|@placeAndTime)+

  - name: "@show_trip"
    patterns:
      - $show (my|the)? flight (@departure|@destination|@placeAndTime)*

  - name: "@delete_trip"
    patterns:
      - $clear (my|the)? flight (@departure|@destination|@placeAndTime)*

  #age property
  - name: "@userage"
    patterns:
      - "@age"
      - ($set)? age (to)? (@age|@number)
      - (my)? age (is)? (@age|@number)

  - name: "@show_userage"
    patterns:
      - $show (my)? age
      - how old am I
      - what is (my)? age

  - name: "@clear_age"
    patterns:
      - $clear (my)? age
      - I am ageless

  #height property
  - name: "@height"
    patterns:
      - height ($is)? (@dimension|@number)
      - ($set)? height (to)? (@dimension|@number)
      - (@dimension|@number) tall

  #width
  - name: "@width"
    patterns:
      - width (equals)? (@dimension|@number)
      - (@dimension|@number) wide

  #size
  - name: "@size"
    patterns:
      - "(@width|@dimension|@number) (by|x)? (@height|@dimension|@number)"
      - "(@height|@dimension|@number) (by|x)? (@width|@dimension|@number)"

  #name property
  - name: "@name"
    patterns:
      - (my)? $name ($is)? (@QuotedText|___)+
      - call me (@QuotedText|___)
      - call me (___)+
      - (@QuotedText|___) (is my)? name
      - change my name (to)? (@QuotedText|___)+

intents:
  - name: match
    examples:
      - book a flight from new york to SEA on friday
      - the box is 12 inches wide by 14
      - it is 15 feet tall
      - my name is Boba Fett
      - you can call me Boba
      - people call me "john wick"
      - change my flight to new york
      - show me my flight
